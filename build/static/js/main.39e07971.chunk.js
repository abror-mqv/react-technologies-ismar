(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{27:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var a,c=n(1),i=n(15),s=n.n(i),o=n(8),r=n(9),l=n(7),u=n.n(l),d=n(10),j=n(3),b=n(4),h=n(2),f=n(6),m=n(5),O=n(16),p=(n(27),n(17)),v=n(0),x=p.a.div(a||(a=Object(O.a)(["\n    display: flex;\n    align-items: flex-end;\n    justify-content: space-between;\n\n    h1 {\n        font-size: 26px;\n        cursor: pointer;\n        :hover {\n            color: red\n        }\n    }\n    \n    h2 {\n        font-size: .9rem;\n        color: grey;\n    }\n"]))),g=function(t){var e=t.allPost,n=t.likes;return Object(v.jsxs)(x,{children:[Object(v.jsx)("h1",{children:"Ismar Suleimanov"}),Object(v.jsxs)("h2",{children:[e," \u0437\u0430\u043f\u0438\u0441\u0438, \u0438\u0437 \u043d\u0438\u0445 ",n," \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c"]})]})},k=(n(31),function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(t){var a;return Object(j.a)(this,n),(a=e.call(this,t)).state={text:""},a.onSearchPost=a.onSearchPost.bind(Object(h.a)(a)),a}return Object(b.a)(n,[{key:"onSearchPost",value:function(t){var e=t.target.value;this.setState({text:e}),this.props.onUpdateSearchPanel(e)}},{key:"render",value:function(){return Object(v.jsx)("input",{type:"text",className:"form-control search-input",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u043f\u0438\u0441\u0435\u0439",onChange:this.onSearchPost})}}]),n}(c.Component)),y=(n(32),function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(t){var a;return Object(j.a)(this,n),(a=e.call(this,t)).button=[{name:"all",label:"\u0412\u0441\u0435"},{name:"like",label:"\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0435\u0441\u044f"}],a}return Object(b.a)(n,[{key:"render",value:function(){var t=this,e=this.button.map((function(e){var n=e.name,a=e.label,c=t.props,i=c.filter,s=c.onUpdateFilter,o=i===n?"btn-all btn-info":"btn-outline-secondary";return Object(v.jsx)("button",{type:"button",className:"btn ".concat(o),onClick:function(){return s(n)},children:a},n)}));return Object(v.jsx)("div",{className:"btn-group",children:e})}}]),n}(c.Component)),S=n(21),N=(n(33),function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){return Object(j.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var t=this.props,e=t.avatar,n=t.first_name,a=t.last_name,c=t.onOpenWindow,i=t.onDelete,s=t.onToggleImportant,o=t.onToggleLike,r="app-list-item d-flex justify-content-between";return t.important&&(r+=" important"),t.like&&(r+=" like"),Object(v.jsxs)("div",{className:r,children:[Object(v.jsx)("img",{src:e,alt:"img",width:"50",height:"50"}),Object(v.jsxs)("span",{className:"app-list-item-label",onClick:o,children:[n," ",a]}),Object(v.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(v.jsx)("button",{className:"btn-star btn-sm",onClick:s,children:Object(v.jsx)("i",{className:"fa fa-star"})}),Object(v.jsx)("button",{className:"btn-trash btn-sm",onClick:i,children:Object(v.jsx)("i",{className:"far fa-trash-alt"})}),Object(v.jsx)("button",{className:"btn-trash btn-sm",onClick:c,children:Object(v.jsx)("i",{className:"fas fa-arrow-right"})}),Object(v.jsx)("i",{className:"fa fa-heart"})]})]})}}]),n}(c.Component)),w=(n(34),n(35),["id"]),C=function(t){var e=t.posts,n=t.onDelete,a=t.onOpenWindow,c=t.onToggleImportant,i=t.onToggleLike,s=e.map((function(t){var e=t.id,s=Object(S.a)(t,w);return Object(v.jsx)("li",{children:Object(v.jsx)(N,Object(o.a)(Object(o.a)({},s),{},{onDelete:function(){return n(e)},onToggleImportant:function(){return c(e)},onToggleLike:function(){return i(e)},onOpenWindow:function(){return a(e)}}))},e)}));return Object(v.jsx)("ul",{className:"app-list list-group",children:s})},P=(n(36),function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(t){var a;return Object(j.a)(this,n),(a=e.call(this,t)).state={text:""},a.onChangeValue=a.onChangeValue.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a}return Object(b.a)(n,[{key:"onChangeValue",value:function(t){this.setState({text:t.target.value})}},{key:"onSubmit",value:function(t){t.preventDefault(),this.props.addItem(this.state.text),this.setState({text:""})}},{key:"render",value:function(){return Object(v.jsxs)("form",{className:"bottom-panel d-flex",onSubmit:this.onSubmit,children:[Object(v.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u044b\u0441\u043b\u044c.",className:"form-control new-post-label",onChange:this.onChangeValue,value:this.state.text}),Object(v.jsx)("button",{type:"submit",className:"btn btn-outline-secondary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})}}]),n}(c.Component)),I=(n(37),function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"loadingio-spinner-spin-rracfgbb9mp",children:Object(v.jsxs)("div",{className:"ldio-mkkqh0npnk",children:[Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})}),Object(v.jsx)("div",{children:Object(v.jsx)("div",{})})]})})})}),T=(n(38),function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){return Object(j.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var t,e=this.props,n=e.modalVisible,a=e.onCloseWindow,c=e.modalContent,i=e.modalContent,s=i.email,o=i.first_name,r=i.last_name,l=i.avatar;return t=0!==c.length?Object(v.jsx)(D,{first_name:o,last_name:r,onCloseWindow:a,avatar:l,email:s}):Object(v.jsx)(I,{}),n?Object(v.jsx)("div",{className:"modal",children:Object(v.jsx)("div",{className:"modal-dialog",children:t})}):null}}]),n}(c.Component)),D=function(t){var e=t.first_name,n=t.last_name,a=t.onCloseWindow,c=t.avatar,i=t.email;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"modal-header",children:[Object(v.jsxs)("h3",{className:"modal-title",children:[e," ",n]}),Object(v.jsx)("span",{className:"modal-close",onClick:a,children:"\xd7"})]}),Object(v.jsx)("div",{className:"modal-body",children:Object(v.jsxs)("div",{className:"modal-content",children:[Object(v.jsx)("img",{src:c,alt:e,width:"150",height:"150"}),Object(v.jsxs)("p",{children:[e," ",n]}),Object(v.jsx)("p",{children:Object(v.jsx)("a",{href:"mailto:"+i,children:i})})]})}),Object(v.jsx)("div",{className:"modal-footer",children:Object(v.jsx)("button",{onClick:a,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})},V=T,U=function(){function t(){Object(j.a)(this,t),this._urlBase="https://reqres.in/api"}return Object(b.a)(t,[{key:"fetchData",value:function(){var t=Object(d.a)(u.a.mark((function t(e){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._urlBase).concat(e));case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043b\u043e\u043c\u0430\u043d\u043d\u0430\u044f ".concat(e,", \u0441\u0442\u0430\u0442\u0443\u0441 ").concat(n.status));case 5:return t.next=7,n.json();case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAllpost",value:function(){return this.fetchData("/users?page=1")}},{key:"getPostById",value:function(t){return this.fetchData("/users/".concat(t))}}]),t}(),W=function(){return Object(v.jsx)("span",{children:"\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e \u043f\u043e\u0437\u0436\u0435."})},_=(n(39),function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(t){var a;return Object(j.a)(this,n),(a=e.call(this,t)).getdata=new U,a.modalData=function(t){a.setState({modal:t.data})},a.onError=function(){a.setState({error:!0,loading:!1})},a.onOpenWindow=function(){var t=Object(d.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({modalVisible:!a.state.modalVisible}),t.next=3,fetch("http://localhost:3000/data/".concat(e));case 3:return t.next=5,t.sent.json();case 5:t.sent?console.log("save post"):console.log("just get post.."),a.getdata.getPostById(e).then((function(t){a.savePost(t.data),a.modalData(t)})).catch(a.onError);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.savePost=function(){var t=Object(d.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),fetch("http://localhost:3000/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.onCloseWindow=function(){a.setState({modalVisible:!a.state.modalVisible,modal:[]})},a.state={data:[],searchValue:"",filter:"all",modalVisible:!1,modal:[],loading:!0,error:!1},a.getAllData(),a.onDelete=a.onDelete.bind(Object(h.a)(a)),a.addItem=a.addItem.bind(Object(h.a)(a)),a.onToggleImportant=a.onToggleImportant.bind(Object(h.a)(a)),a.onToggleLike=a.onToggleLike.bind(Object(h.a)(a)),a.onUpdateSearchPanel=a.onUpdateSearchPanel.bind(Object(h.a)(a)),a.onUpdateFilter=a.onUpdateFilter.bind(Object(h.a)(a)),a.savePost=a.savePost.bind(Object(h.a)(a)),a.id=4,a}return Object(b.a)(n,[{key:"onDelete",value:function(t){this.setState((function(e){var n=e.data,a=n.findIndex((function(e){return e.id===t})),c=n.slice(0,a),i=n.slice(a+1);return{data:[].concat(Object(r.a)(c),Object(r.a)(i))}}))}},{key:"addItem",value:function(t){var e={first_name:t,important:!1,id:this.id++};this.setState((function(t){var n=t.data;return{data:[].concat(Object(r.a)(n),[e])}}))}},{key:"onToggleImportant",value:function(t){this.setState((function(e){var n=e.data,a=n.findIndex((function(e){return e.id===t})),c=n[a],i=Object(o.a)(Object(o.a)({},c),{},{important:!c.important});return{data:[].concat(Object(r.a)(n.slice(0,a)),[i],Object(r.a)(n.slice(a+1)))}}))}},{key:"onToggleLike",value:function(t){this.setState((function(e){var n=e.data,a=n.findIndex((function(e){return e.id===t})),c=n[a],i=Object(o.a)(Object(o.a)({},c),{},{like:!c.like});return{data:[].concat(Object(r.a)(n.slice(0,a)),[i],Object(r.a)(n.slice(a+1)))}}))}},{key:"searchPost",value:function(t,e){return 0===e.length?t:t.filter((function(t){return t.first_name.indexOf(e)>-1}))}},{key:"onUpdateSearchPanel",value:function(t){this.setState({searchValue:t})}},{key:"filterPost",value:function(t,e){return"like"===e?t.filter((function(t){return t.like})):t}},{key:"onUpdateFilter",value:function(t){this.setState({filter:t})}},{key:"getAllData",value:function(){var t=this;this.getdata.getAllpost().then((function(e){t.setState({data:e.data,loading:!1})})).catch(this.onError)}},{key:"render",value:function(){var t=this.state,e=t.data,n=t.searchValue,a=t.filter,c=t.modalVisible,i=t.modal,s=t.loading,o=t.error,r=e.filter((function(t){return t.like})).length,l=this.filterPost(this.searchPost(e,n),a),u=l.length,d=o?Object(v.jsx)(W,{}):null,j=s?Object(v.jsx)(I,{}):null,b=o||s?null:Object(v.jsx)(C,{posts:l,onDelete:this.onDelete,onToggleImportant:this.onToggleImportant,onToggleLike:this.onToggleLike,onOpenWindow:this.onOpenWindow});return Object(v.jsxs)("div",{className:"blockPanel",children:[Object(v.jsx)(g,{allPost:u,likes:r}),Object(v.jsxs)("div",{className:"search-panel d-flex",children:[Object(v.jsx)(k,{onUpdateSearchPanel:this.onUpdateSearchPanel}),Object(v.jsx)(y,{filter:a,onUpdateFilter:this.onUpdateFilter})]}),d,j,b,Object(v.jsx)(P,{addItem:this.addItem}),Object(v.jsx)(V,{modalVisible:c,onCloseWindow:this.onCloseWindow,modalContent:i})]})}}]),n}(c.Component));n(40),n(41);s.a.render(Object(v.jsx)(_,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.39e07971.chunk.js.map